<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Ditt konto</title>
  <link rel="stylesheet" href="/css/account.css">
</head>
<body>

  <!-- Animated Bubbles -->
  <div class="animated-bg" id="bubble-container"></div>

  <!-- Shark swims through -->
  <div class="shark" id="shark">
    <img src="/img/shark.png" alt="Shark">
  </div>

  <!-- Account Info Form -->
  <div class="form-container">
    <h1>Ditt konto</h1>

    <% const profileImage = user.profileImageUrl || '/default-profile.png' %>
    <img src="<%= profileImage %>" alt="Profilbild" class="profile-pic">

    <form action="/users/account/update" method="POST" enctype="multipart/form-data">
      <div class="form-group">
         <p><a href="/" id="master">Tillbaka</a></p>
        <label for="name">Namn:</label>
        <input type="text" name="name" id="name" value="<%= user.name %>" required>
      </div>

      <div class="form-group">
        <label for="profileImage">Profilbild:</label>
        <div class="custom-file-upload">
          <label for="profileImage">Välj bild</label>
          <input type="file" name="profileImage" id="profileImage" accept="image/*">
          <span id="file-chosen">Ingen fil har valts</span>
        </div>
      </div>
      <button type="submit">Spara ändringar</button>
    </form>

    <form action="/users/delete" method="POST" onsubmit="return confirm('Är du säker på att du vill ta bort ditt konto?');">
      <button type="submit" class="danger">Ta bort konto</button>
    </form>
  </div>
  
<div class="shark-score" id="sharkScore"> Bubbles Slaktade: 0</div>

  <!-- Bubble shark animation logic -->
  <script src="/js/sharkBubbles.js"></script>
</body>
</html>
